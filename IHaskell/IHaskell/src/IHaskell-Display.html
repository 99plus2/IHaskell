<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
<!-- Generated by HsColour, http://code.haskell.org/~malcolm/hscolour/ -->
<title>src/IHaskell/Display.hs</title>
<link type='text/css' rel='stylesheet' href='hscolour.css' />
</head>
<body>
<pre><a name="line-1"></a><span class='hs-comment'>{-# LANGUAGE NoImplicitPrelude, OverloadedStrings #-}</span>
<a name="line-2"></a><span class='hs-keyword'>module</span> <span class='hs-conid'>IHaskell</span><span class='hs-varop'>.</span><span class='hs-conid'>Display</span> <span class='hs-layout'>(</span>
<a name="line-3"></a>  <span class='hs-conid'>IHaskellDisplay</span><span class='hs-layout'>(</span><span class='hs-keyglyph'>..</span><span class='hs-layout'>)</span><span class='hs-layout'>,</span>
<a name="line-4"></a>  <span class='hs-varid'>plain</span><span class='hs-layout'>,</span> <span class='hs-varid'>html</span><span class='hs-layout'>,</span> <span class='hs-varid'>png</span><span class='hs-layout'>,</span> <span class='hs-varid'>jpg</span><span class='hs-layout'>,</span> <span class='hs-varid'>svg</span><span class='hs-layout'>,</span> <span class='hs-varid'>latex</span><span class='hs-layout'>,</span>
<a name="line-5"></a>  <span class='hs-varid'>serializeDisplay</span>
<a name="line-6"></a>  <span class='hs-layout'>)</span> <span class='hs-keyword'>where</span>
<a name="line-7"></a>
<a name="line-8"></a><span class='hs-keyword'>import</span> <span class='hs-conid'>ClassyPrelude</span>
<a name="line-9"></a><span class='hs-keyword'>import</span> <span class='hs-conid'>Data</span><span class='hs-varop'>.</span><span class='hs-conid'>Serialize</span> <span class='hs-keyword'>as</span> <span class='hs-conid'>Serialize</span>
<a name="line-10"></a><span class='hs-keyword'>import</span> <span class='hs-conid'>Data</span><span class='hs-varop'>.</span><span class='hs-conid'>ByteString</span>
<a name="line-11"></a><span class='hs-keyword'>import</span> <span class='hs-conid'>Data</span><span class='hs-varop'>.</span><span class='hs-conid'>String</span><span class='hs-varop'>.</span><span class='hs-conid'>Utils</span> <span class='hs-layout'>(</span><span class='hs-varid'>rstrip</span><span class='hs-layout'>)</span> 
<a name="line-12"></a>
<a name="line-13"></a><span class='hs-keyword'>import</span> <span class='hs-conid'>IHaskell</span><span class='hs-varop'>.</span><span class='hs-conid'>Types</span>
<a name="line-14"></a>
<a name="line-15"></a><a name="IHaskellDisplay"></a><span class='hs-comment'>-- | A class for displayable Haskell types.</span>
<a name="line-16"></a><a name="IHaskellDisplay"></a><span class='hs-comment'>--</span>
<a name="line-17"></a><a name="IHaskellDisplay"></a><span class='hs-comment'>-- IHaskell's displaying of results behaves as if these two</span>
<a name="line-18"></a><a name="IHaskellDisplay"></a><span class='hs-comment'>-- overlapping/undecidable instances also existed:</span>
<a name="line-19"></a><a name="IHaskellDisplay"></a><span class='hs-comment'>-- </span>
<a name="line-20"></a><a name="IHaskellDisplay"></a><span class='hs-comment'>-- &gt; instance (Show a) =&gt; IHaskellDisplay a</span>
<a name="line-21"></a><a name="IHaskellDisplay"></a><span class='hs-comment'>-- &gt; instance Show a where shows _ = id</span>
<a name="line-22"></a><a name="IHaskellDisplay"></a><span class='hs-keyword'>class</span> <span class='hs-conid'>IHaskellDisplay</span> <span class='hs-varid'>a</span> <span class='hs-keyword'>where</span>
<a name="line-23"></a>  <span class='hs-varid'>display</span> <span class='hs-keyglyph'>::</span> <span class='hs-varid'>a</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>DisplayData</span><span class='hs-keyglyph'>]</span>
<a name="line-24"></a>
<a name="line-25"></a><a name="plain"></a><span class='hs-comment'>-- | Generate a plain text display.</span>
<a name="line-26"></a><span class='hs-definition'>plain</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>String</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DisplayData</span>
<a name="line-27"></a><span class='hs-definition'>plain</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Display</span> <span class='hs-conid'>PlainText</span> <span class='hs-varop'>.</span> <span class='hs-varid'>rstrip</span>
<a name="line-28"></a>
<a name="line-29"></a><a name="html"></a><span class='hs-comment'>-- | Generate an HTML display.</span>
<a name="line-30"></a><span class='hs-definition'>html</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>String</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DisplayData</span>
<a name="line-31"></a><span class='hs-definition'>html</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Display</span> <span class='hs-conid'>MimeHtml</span>
<a name="line-32"></a>
<a name="line-33"></a><a name="png"></a><span class='hs-definition'>png</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>String</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DisplayData</span>
<a name="line-34"></a><span class='hs-definition'>png</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Display</span> <span class='hs-conid'>MimePng</span> 
<a name="line-35"></a>
<a name="line-36"></a><a name="jpg"></a><span class='hs-definition'>jpg</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>String</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DisplayData</span>
<a name="line-37"></a><span class='hs-definition'>jpg</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Display</span> <span class='hs-conid'>MimeJpg</span>
<a name="line-38"></a>
<a name="line-39"></a><a name="svg"></a><span class='hs-definition'>svg</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>String</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DisplayData</span>
<a name="line-40"></a><span class='hs-definition'>svg</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Display</span> <span class='hs-conid'>MimeSvg</span>
<a name="line-41"></a>
<a name="line-42"></a><a name="latex"></a><span class='hs-definition'>latex</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>String</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>DisplayData</span>
<a name="line-43"></a><span class='hs-definition'>latex</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Display</span> <span class='hs-conid'>MimeLatex</span>
<a name="line-44"></a>
<a name="line-45"></a><a name="serializeDisplay"></a><span class='hs-definition'>serializeDisplay</span> <span class='hs-keyglyph'>::</span> <span class='hs-keyglyph'>[</span><span class='hs-conid'>DisplayData</span><span class='hs-keyglyph'>]</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>ByteString</span>
<a name="line-46"></a><span class='hs-definition'>serializeDisplay</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Serialize</span><span class='hs-varop'>.</span><span class='hs-varid'>encode</span>
</pre></body>
</html>
